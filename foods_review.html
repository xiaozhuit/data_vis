<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Word Cloud Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.0.6/wordcloud2.min.js"></script>
    <style>
      #word-cloud {
        width: 100%;
        height: 1000px; /* 增大容器高度 */
        border: 1px solid #ddd;
      }
    </style>
  </head>
  <body>
    <div id="word-cloud"></div>
    <script>
      // 正确的词云数据格式
      const wordData = [
        ["搭配", 558],
        ["浓郁", 411],
        ["一口", 320],
        ["鲜嫩", 291],
        ["麻辣", 290],
        ["外皮", 254],
        ["酱汁", 244],
        ["肉质", 241],
        ["香味", 238],
        ["完美", 233],
        ["经过", 223],
        ["酥脆", 218],
        ["多汁", 213],
        ["入口", 182],
        ["糖醋", 167],
        ["米饭", 162],
        ["藤椒", 156],
        ["干锅", 153],
        ["牛肉", 146],
        ["包裹", 144],
        ["酸甜", 143],
        ["面条", 136],
        ["内里", 133],
        ["口感", 132],
        ["特制", 131],
        ["汤汁", 126],
        ["充满", 125],
        ["美味", 122],
        ["入味", 121],
        ["鱼肉", 121],
        ["简单", 117],
        ["鸡肉", 116],
        ["鲜美", 116],
        ["香料", 115],
        ["香辣", 110],
        ["风味", 110],
        ["软烂", 109],
        ["茄子", 108],
        ["吸收", 106],
        ["咸香", 105],
        ["香气", 101],
        ["经典", 98],
        ["吸满", 98],
        ["羊肉", 97],
        ["花椒", 96],
        ["滑嫩", 90],
        ["鲜香", 89],
        ["手工", 89],
        ["四溢", 89],
        ["鱼片", 89],
        ["汤底", 88],
        ["蒜蓉", 87],
        ["浓厚", 86],
        ["肥肠", 84],
        ["辣椒", 82],
        ["红烧", 80],
        ["酱料", 79],
        ["金针菇", 76],
        ["味道", 75],
        ["长时间", 73],
        ["炭火", 71],
        ["香味扑鼻", 71],
        ["炸酱", 70],
        ["香浓", 70],
        ["红糖", 70],
        ["感觉", 69],
        ["排骨", 69],
        ["海鲜", 68],
        ["孜然", 68],
        ["起来", 67],
        ["鸡汤", 67],
        ["鸡蛋", 66],
        ["香菇", 66],
        ["夏日", 65],
        ["独特", 64],
        ["四季豆", 64],
        ["肉末", 64],
        ["扇贝", 64],
        ["外焦里嫩", 63],
        ["撒上", 63],
        ["欲罢不能", 63],
        ["无法", 63],
        ["清香", 62],
        ["爽滑", 62],
        ["味蕾", 62],
        ["粉丝", 62],
        ["内馅", 62],
        ["卤制", 62],
        ["丰富", 61],
        ["一碗", 61],
        ["充分", 61],
        ["黄焖", 61],
        ["结合", 60],
        ["软嫩", 60],
        ["滑口", 60],
        ["融入", 60],
        ["牛蛙", 60],
        ["即化", 60],
        ["选择", 59],
        ["满足", 59],
      ];

      // 计算动态的 weightFactor
      const maxFrequency = Math.max(...wordData.map(([_, freq]) => freq));
      const weightFactor = 250 / maxFrequency; // 动态调整单词大小

      const options = {
        list: wordData,
        gridSize: 15, // 增大间距
        weightFactor: weightFactor, // 动态计算
        fontFamily: "Arial",
        color: function () {
          return `hsl(${Math.random() * 360}, 100%, 50%)`; // 随机颜色
        },
        rotateRatio: 0.3, // 关闭旋转
        rotationSteps: 2,
        maxWords: 100, // 显示最多 100 个词
        backgroundColor: "#f0f0f0",
      };

      const container = document.getElementById("word-cloud");
      if (container) {
        WordCloud(container, options);
      } else {
        console.error("Container element not found!");
      }
    </script>
  </body>
</html>
